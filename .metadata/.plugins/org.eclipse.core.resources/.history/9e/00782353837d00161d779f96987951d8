package uk.co.luciditysoftware.actsintown.api.mappers.dtomappers;

import java.util.List;
import java.util.stream.Collectors;

import org.modelmapper.ModelMapper;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

@Service
public class GenericDtoMapperImpl implements GenericDtoMapper {

	@Autowired
	private ModelMapper modelMapper;
	
	public <T> T map(Object source, Class<T> destinationType) {
		T target = modelMapper.map (source, destinationType);
		return target;
	}
	
	public <T> List<T> map(List<Object> source, Class<T> destinationType) {
		List<T> target = source
			.stream()
			.map(element -> map(element, destinationType))
			.collect(Collectors.toList());
		
		return target;
	}
}
