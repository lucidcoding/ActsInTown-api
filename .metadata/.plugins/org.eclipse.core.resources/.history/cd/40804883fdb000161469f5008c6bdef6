package uk.co.luciditysoftware.actsintown.api.mappers.parametersetmappers.user;

import java.security.NoSuchAlgorithmException;
import java.security.SecureRandom;

import org.apache.commons.codec.binary.Base64;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.crypto.bcrypt.BCrypt;

import uk.co.luciditysoftware.actsintown.api.requests.user.ChangePasswordRequest;
import uk.co.luciditysoftware.actsintown.api.requests.user.EditCurrentRequest;
import uk.co.luciditysoftware.actsintown.domain.parametersets.user.ChangePasswordParameterSet;
import uk.co.luciditysoftware.actsintown.domain.parametersets.user.EditParameterSet;
import uk.co.luciditysoftware.actsintown.domain.repositorycontracts.UserTypeRepository;

public class ResetPasswordMapperImpl {

	@Autowired
	private UserTypeRepository userTypeRepository;
	
	public EditParameterSet map(EditCurrentRequest request) throws NoSuchAlgorithmException {
		EditParameterSet parameterSet = new EditParameterSet() {
			{
				this.setFirstName(request.getFirstName());
				this.setLastName(request.getLastName());
				this.setUserTypes(userTypeRepository.getByIds(request.getUserTypeIds()));
				this.setStageName(request.getStageName());
			}
		};
		
		return parameterSet;
	}
}
